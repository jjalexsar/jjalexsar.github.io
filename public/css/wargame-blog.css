
/* =======================================================================
   HISTORICAL WARGAME BLOG – Core Styles (v1.0)
   Focus: Korean typography, centered reading column, dark moody aesthetic,
          clean layouts for rules text, AARs, and scenario notes.
   Place this file at: /public/css/wargame-blog.css  (or /css/wargame-blog.css)
   ======================================================================= */

/* ------------------------------
   0) CSS Variables (Themes)
   ------------------------------ */
:root {
  --bg: #0b0d10;
  --bg-soft: #12161b;
  --bg-elev: #171c23;
  --text: #e8edf2;
  --text-dim: #b6c1cc;
  --accent: #8fbff8;        /* Steel-blue */
  --accent-2: #e0c48a;      /* Brass/gold for historical vibe */
  --muted: #2a3340;
  --border: #222a33;
  --link: #99c2ff;
  --link-visited: #c3a6ff;
  --shadow: 0 6px 20px rgba(0,0,0,.45);
  --radius: 16px;
  --rhythm: 1.2rem;
  --maxw: 72ch;             /* Optimal reading width */
  --font-body: "Pretendard Variable", "Pretendard", "Noto Sans KR", "Apple SD Gothic Neo",
               "Malgun Gothic", "Segoe UI", system-ui, -apple-system, "Helvetica Neue", Arial, sans-serif;
  --font-serif: "Noto Serif KR", "Nanum Myeongjo", "Iowan Old Style", "Georgia", serif;
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Consolas, "Roboto Mono", "Noto Sans Mono", monospace;
}

/* Light theme fallback if user prefers light */
@media (prefers-color-scheme: light) {
  :root {
    --bg: #f4f6f8;
    --bg-soft: #ffffff;
    --bg-elev: #ffffff;
    --text: #1d232b;
    --text-dim: #445061;
    --accent: #2b5fb8;
    --accent-2: #8a6b2e;
    --muted: #e9eef5;
    --border: #dde4ee;
    --link: #1a5fff;
    --link-visited: #6b3df6;
    --shadow: 0 6px 20px rgba(0,0,0,.10);
  }
}

/* ------------------------------
   1) Reset-ish & Base
   ------------------------------ */
*,
*::before,
*::after { box-sizing: border-box; }

html {
  -webkit-text-size-adjust: 100%;
  font-feature-settings: "cv01","cv02","cv03","cv04","cv06","cv07","cv08","ss01";
}

body {
  margin: 0;
  font-family: var(--font-body);
  color: var(--text);
  background:
    radial-gradient(1200px 700px at 20% -10%, rgba(60,85,120,.20), transparent 60%),
    radial-gradient(900px 500px at 100% 10%, rgba(160,130,60,.15), transparent 55%),
    linear-gradient(180deg, var(--bg) 0%, var(--bg-soft) 60%, var(--bg) 100%);
  line-height: 1.7;
  letter-spacing: .01em;
  word-break: keep-all;       /* Better for Korean */
  line-break: loose;          /* Korean-friendly line breaking */
  text-underline-position: under;
  text-underline-offset: .12em;
}

/* Focus outlines */
:focus-visible {
  outline: 2px solid var(--accent);
  outline-offset: 2px;
  border-radius: 6px;
}

/* ------------------------------
   2) Layout: centered reading column
   ------------------------------ */
.container,
.prose {
  width: min(100%, var(--maxw));
  margin-inline: auto;
  padding-inline: 1.2rem;
}

header.site {
  width: min(100%, calc(var(--maxw) + 24ch));
  margin: 0 auto;
  padding: 2rem 1.2rem 1rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
}

header.site .brand {
  display: flex;
  align-items: center;
  gap: .75rem;
}
header.site .brand .mark {
  width: 38px; height: 38px; border-radius: 50%;
  background: radial-gradient(circle at 35% 30%, var(--accent-2), transparent 60%),
              linear-gradient(135deg, var(--muted), var(--bg-elev));
  box-shadow: var(--shadow);
  border: 1px solid var(--border);
}
header.site nav a {
  margin-left: 1rem;
  text-decoration: none;
  color: var(--text-dim);
  padding: .4rem .6rem;
  border-radius: 10px;
  border: 1px solid transparent;
}
header.site nav a:hover {
  color: var(--text);
  border-color: var(--border);
  background: var(--bg-elev);
}

/* Footer */
footer.site {
  width: min(100%, var(--maxw));
  margin: 3rem auto 2rem;
  padding: 1rem 1.2rem;
  color: var(--text-dim);
  border-top: 1px solid var(--border);
  font-size: .95rem;
}

/* ------------------------------
   3) Typography
   ------------------------------ */
h1, h2, h3, h4 {
  font-family: var(--font-serif);
  line-height: 1.25;
  margin: 2.2rem 0 1rem;
  color: var(--text);
  letter-spacing: .02em;
}
h1 { font-size: clamp(2rem, 3.6vw, 2.6rem); }
h2 { font-size: clamp(1.6rem, 2.4vw, 2rem); }
h3 { font-size: clamp(1.3rem, 1.8vw, 1.5rem); }
h4 { font-size: 1.1rem; color: var(--text-dim); }

p { margin: 1rem 0; }
.prose > p,
.prose > ul,
.prose > ol,
.prose > blockquote,
.prose > table,
.prose > pre,
.prose > figure {
  margin-inline: auto;
}

small, .small { font-size: .9rem; color: var(--text-dim); }

a {
  color: var(--link);
  text-decoration: underline;
  text-decoration-thickness: .08em;
  text-underline-offset: .18em;
}
a:hover { filter: brightness(1.1); }
a:visited { color: var(--link-visited); }

hr {
  border: 0;
  border-top: 1px solid var(--border);
  margin: 2rem 0;
  opacity: .8;
}

/* Lead paragraph */
.lead {
  font-size: clamp(1.05rem, 1.2rem + .2vw, 1.25rem);
  color: var(--text);
  opacity: .95;
}

/* Drop cap option for opening paragraphs in AARs */
.dropcap:first-letter {
  font-family: var(--font-serif);
  font-weight: 700;
  float: left;
  font-size: 3.2rem;
  line-height: .85;
  padding-right: .25rem;
  margin-top: .1rem;
  color: var(--accent-2);
}

/* ------------------------------
   4) Components
   ------------------------------ */
/* Card (for scenario briefs, unit notes) */
.card {
  background: linear-gradient(180deg, var(--bg-elev), var(--bg-soft));
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 1rem 1.2rem;
  margin: 1rem 0;
}

/* Callouts */
.callout {
  border-left: 4px solid var(--accent);
  background: color-mix(in oklab, var(--accent) 10%, var(--bg-elev));
  padding: 1rem 1.2rem;
  border-radius: 10px;
  margin: 1.2rem 0;
}
.callout.warn {
  --accent: #f0b35c;
}
.callout.danger {
  --accent: #e06b6b;
}

/* Table of contents */
.toc {
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1rem 1.2rem;
  font-size: .98rem;
}
.toc ul { list-style: none; padding: 0; margin: 0; }
.toc li { padding: .25rem 0; }
.toc a { text-decoration: none; }
.toc a:hover { text-decoration: underline; }

/* Blockquotes (rules quotes, designer notes) */
blockquote {
  margin: 1.2rem auto;
  padding: .75rem 1rem;
  border-left: 3px solid var(--accent-2);
  background: linear-gradient(90deg, rgba(224,196,138,.08), transparent 50%);
  border-radius: 8px;
  color: var(--text);
}
blockquote cite {
  display: block;
  margin-top: .4rem;
  color: var(--text-dim);
  font-style: normal;
  font-size: .95rem;
}

/* Code blocks (examples, JSON for cards, etc.) */
pre, code, kbd, samp {
  font-family: var(--font-mono);
}
pre {
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 1rem 1.2rem;
  overflow: auto;
  box-shadow: var(--shadow);
}
code {
  background: color-mix(in oklab, var(--bg-elev) 70%, var(--muted));
  border: 1px solid var(--border);
  padding: .15rem .4rem;
  border-radius: 6px;
}

/* Tables (orders of battle, scenario setup) */
table {
  width: 100%;
  border-collapse: collapse;
  margin: 1rem 0;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: 12px;
  overflow: hidden;
}
thead { background: color-mix(in oklab, var(--bg-elev) 70%, var(--muted)); }
th, td {
  padding: .7rem .8rem;
  border-bottom: 1px solid var(--border);
  text-align: left;
}
tbody tr:hover { background: color-mix(in oklab, var(--bg-elev) 80%, var(--muted)); }
caption { caption-side: bottom; color: var(--text-dim); padding: .6rem; }

/* Figures & images (maps, counters, battle photos) */
figure {
  margin: 1.2rem auto;
}
figure img {
  width: 100%;
  height: auto;
  border-radius: 12px;
  box-shadow: var(--shadow);
  border: 1px solid var(--border);
}
figcaption {
  margin-top: .45rem;
  font-size: .95rem;
  color: var(--text-dim);
  text-align: center;
}

/* “Counter” style image frame */
.counter {
  display: inline-block;
  padding: .4rem;
  background: linear-gradient(180deg, #335, #223);
  border: 1px solid #445066;
  border-radius: 10px;
  box-shadow: 0 10px 20px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.05);
}
.counter img {
  display: block;
  width: 80px;
  height: 80px;
  image-rendering: pixelated;
  filter: drop-shadow(0 2px 2px rgba(0,0,0,.5));
}

/* Hex grid label chips */
.hex-chip {
  display: inline-flex;
  align-items: center;
  gap: .4rem;
  padding: .25rem .6rem;
  border-radius: 999px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  font-size: .92rem;
  color: var(--text-dim);
}

/* Buttons (download scenarios, view VASSAL) */
.button,
button,
input[type="submit"] {
  display: inline-flex;
  align-items: center;
  gap: .4rem;
  padding: .55rem .9rem;
  border-radius: 12px;
  background: linear-gradient(180deg, var(--bg-elev), var(--bg));
  color: var(--text);
  border: 1px solid var(--border);
  text-decoration: none;
  cursor: pointer;
  box-shadow: var(--shadow);
}
.button:hover,
button:hover,
input[type="submit"]:hover {
  transform: translateY(-1px);
  filter: brightness(1.08);
}

/* Badges (difficulty levels, era tags) */
.badge {
  display: inline-block;
  padding: .2rem .55rem;
  border-radius: 999px;
  font-size: .82rem;
  letter-spacing: .02em;
  border: 1px solid var(--border);
  background: var(--bg-elev);
  color: var(--text-dim);
}
.badge.easy { background: rgba(110, 180, 120, .12); color: #9bd3a5; }
.badge.medium { background: rgba(240, 180, 90, .12); color: #f2c484; }
.badge.hard { background: rgba(230, 100, 100, .14); color: #f0a3a3; }

/* ------------------------------
   5) Post chrome
   ------------------------------ */
.post-meta {
  display: flex;
  flex-wrap: wrap;
  gap: .6rem .9rem;
  align-items: center;
  color: var(--text-dim);
  font-size: .95rem;
  margin-bottom: .6rem;
}

.post-hero {
  margin: 1rem 0 1.4rem;
  border-radius: 16px;
  overflow: hidden;
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
}
.post-hero img { display: block; width: 100%; height: auto; }

/* Next/Prev nav */
.post-nav {
  margin-top: 2rem;
  display: grid;
  grid-template-columns: repeat(2, minmax(0,1fr));
  gap: .8rem;
}
.post-nav a {
  display: block;
  padding: .9rem 1rem;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: var(--bg-elev);
  text-decoration: none;
  color: var(--text-dim);
}
.post-nav a:hover { color: var(--text); }

/* ------------------------------
   6) Utilities
   ------------------------------ */
.center { text-align: center; }
.muted { color: var(--text-dim); }
.maxw { width: min(100%, var(--maxw)); margin-inline: auto; }
.soft { background: var(--bg-elev); border: 1px solid var(--border); border-radius: var(--radius); padding: 1rem 1.2rem; }
.spacer { height: var(--rhythm); }
.hidden { display: none !important; }

/* Responsive tweaks */
@media (max-width: 720px) {
  header.site { flex-direction: column; align-items: stretch; gap: .6rem; }
  .post-nav { grid-template-columns: 1fr; }
}

/* ------------------------------
   7) Optional: syntax highlight-ish
   (minimal hues; plug into your highlighter classes)
   ------------------------------ */
code .kw { color: #8fbff8; }      /* keyword */
code .fn { color: #f0b35c; }      /* function */
code .op { color: #c2c8d0; }      /* operator */
code .cm { color: #7b8795; font-style: italic; } /* comment */
code .str { color: #a7e3b5; }     /* string */
code .num { color: #e0a0ff; }     /* number */

/* ------------------------------
   8) Footnotes
   ------------------------------ */
.footnotes {
  margin-top: 2rem;
  padding-top: .5rem;
  border-top: 1px solid var(--border);
  font-size: .95rem;
  color: var(--text-dim);
}
.footnotes ol { padding-left: 1rem; }
.footnotes li { margin: .4rem 0; }

/* ------------------------------
   9) Images-as-maps (zoom on hover)
   ------------------------------ */
.map-zoom {
  position: relative;
  overflow: hidden;
  border-radius: 14px;
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
}
.map-zoom img {
  transition: transform .5s ease;
  display: block;
  width: 100%;
  height: auto;
}
.map-zoom:hover img { transform: scale(1.03); }

/* ------------------------------
   10) Breadcrumbs
   ------------------------------ */
.breadcrumbs {
  display: flex;
  flex-wrap: wrap;
  gap: .4rem;
  font-size: .92rem;
  color: var(--text-dim);
}
.breadcrumbs a { text-decoration: none; }
.breadcrumbs a:hover { text-decoration: underline; }

/* ------------------------------
   11) Search input
   ------------------------------ */
.searchbar {
  display: flex;
  align-items: center;
  gap: .5rem;
  padding: .6rem .8rem;
  border-radius: 12px;
  background: var(--bg-elev);
  border: 1px solid var(--border);
}
.searchbar input[type="search"] {
  flex: 1 1 auto;
  background: transparent;
  border: 0;
  outline: 0;
  color: var(--text);
  font: inherit;
}

/* ------------------------------
   12) Print (clean for rules & scenarios)
   ------------------------------ */
@media print {
  :root {
    --bg: #fff; --text: #111; --text-dim: #333; --border: #ccc;
    --accent: #000; --accent-2: #000; --bg-elev: #fff;
    --link: #000; --link-visited: #000;
  }
  body { background: #fff !important; }
  header.site, footer.site, .post-nav { display: none !important; }
  a { text-decoration: none; color: #000; }
  .card, .callout, pre, table, blockquote { box-shadow: none !important; }
}
